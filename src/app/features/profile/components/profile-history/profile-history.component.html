<div class="grid">
	<div class="col-12 md:col-12">
		<!-- List hamasi chiqadigan joyi -->
		<ng-container *ngIf="page_type == 'list'">
			<p-table *ngIf="($history | async) as history ; else loading" [value]="history" styleClass="p-datatable-gridlines"
				[tableStyle]="{ 'min-width': '50rem' }">
				<ng-template pTemplate="header">
					<tr class="table-head">
						<th>Doktor</th>
						<th>Tashxis egasi</th>
						<th>Tashxis sanasi</th>
						<th>Xizmat</th>
						<th>Tashxis tasnifi</th>
						<th>Batafsil</th>
					</tr>
				</ng-template>
				<ng-template pTemplate="body" let-product>
					<tr *ngFor="let item of history">
						<td style="padding: 10px; font-size: 18px;">{{ item.appointment.staff.fullname }}</td>
						<td style="padding: 10px; font-size: 18px;">{{ item.staff.fullname }}</td>
						<td style="padding: 10px; font-size: 18px;">{{ item.date | date: 'dd.MM.YY' }}</td>
						<td style="padding: 10px; font-size: 18px;">{{ item.appointment.service.name}}</td>
						<td style="padding: 10px; font-size: 18px;">{{ item.name}}</td>
						<td style="padding: 10px;"><button
								style="padding: 10px; width: 100%; column-gap: 5px; justify-content: center; flex-direction: row-reverse;"
								[routerLink]="['/profile', 'history', item.id, 'history']" pButton iconPos="right">Ko'rish</button>
						</td>
					</tr>
				</ng-template>
			</p-table>
		</ng-container>

		<!-- List bittasi chiqadigan joyi -->
		<ng-container *ngIf="page_type == 'detail'">
			<div class="panel-head" *ngIf="($history_detail | async) as history; else loading">
				<div style="padding: 10px;">
					<h2>{{history.name}}</h2>
					<p [innerHTML]="history.descr">
					</p>
				</div>
			</div>
		</ng-container>
		<ng-template #loading>
			<div class="col-12 my-6 py-6">
				<div class="spinner">
					<p-progressSpinner ariaLabel="loading" />
				</div>
			</div>
		</ng-template>
	</div>
</div>